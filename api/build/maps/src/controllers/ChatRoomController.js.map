{"version":3,"sources":["src/controllers/ChatRoomController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,6EAAsE;AACtE,6DAK6B;AAC7B,qDAAgD;AAChD,iDAA4C;AAI5C,IAAqB,kBAAkB,GAAvC,MAAqB,kBAAkB;IAErC;;;;;;;;;;;;;;;;;;;OAmBG;IAEG,WAAW,CAAc,EAAU;;YACvC,MAAM,QAAQ,GAAG,MAAM,mBAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC7C,IAAI,CAAC,QAAQ,EAAE;gBACb,MAAM,IAAI,mCAAa,CAAC,uBAAU,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;aAC5D;YACD,OAAO,QAAQ,CAAC,QAAQ,EAAE,CAAC;QAC7B,CAAC;KAAA;CACF,CAAA;AAPC;IADC,yBAAG,CAAC,uBAAuB,CAAC;IACV,WAAA,2BAAK,CAAC,IAAI,CAAC,CAAA;;;;qDAM7B;AA7BkB,kBAAkB;IAFtC,oCAAc,CAAC,WAAW,CAAC;IAC3B,+BAAS,CAAC,+BAAqB,CAAC;GACZ,kBAAkB,CA8BtC;kBA9BoB,kBAAkB","file":"../../../src/controllers/ChatRoomController.js","sourcesContent":["import passportJwtMiddleware from '../security/passportJwtMiddleware';\r\nimport {\r\n  Get,\r\n  JsonController, NotFoundError,\r\n  Param,\r\n  UseBefore\r\n} from 'routing-controllers';\r\nimport {errorCodes} from '../config/errorCodes';\r\nimport {ChatRoom} from '../models/ChatRoom';\r\n\r\n@JsonController('/chatRoom')\r\n@UseBefore(passportJwtMiddleware)\r\nexport default class ChatRoomController {\r\n\r\n  /**\r\n   * @api {get} /api/chatRoom get a chat room\r\n   * @apiName getChatRoom\r\n   * @apiGroup ChatRoom\r\n   *\r\n   * @apiParam {string} id: chatRoom ID.\r\n   *\r\n   * @apiSuccess {IChatRoom} a ChatRoom Object.\r\n   *\r\n   * @apiSuccessExample {json} Success-Response:\r\n   *   {\r\n   *         \"_id\": \"5a037e6b60f72236d8e7c857\",\r\n   *         \"updatedAt\": \"2017-11-08T22:00:11.693Z\",\r\n   *         \"createdAt\": \"2017-11-08T22:00:11.693Z\",\r\n   *         \"name\": \"ChatRoom Name\",\r\n   *         \"description\": \"ChatRoom Description\",\r\n   *         \"__v\": 0,\r\n   *  }\r\n   *\r\n   */\r\n  @Get('/:id([a-fA-F0-9]{24})')\r\n  async getChatRoom(@Param('id') id: string) {\r\n    const chatRoom = await ChatRoom.findById(id);\r\n    if (!chatRoom) {\r\n      throw new NotFoundError(errorCodes.chat.roomNotFound.text);\r\n    }\r\n    return chatRoom.toObject();\r\n  }\r\n}\r\n"]}