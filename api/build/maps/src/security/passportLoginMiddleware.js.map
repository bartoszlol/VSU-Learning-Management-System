{"version":3,"sources":["src/security/passportLoginMiddleware.ts"],"names":[],"mappings":";;AAAA,uCAAsC;AAEtC,SAAwB,uBAAuB,CAAC,GAAQ,EAAE,GAAQ,EAAE,IAAuB;IACzF,MAAM,YAAY,GAAG,uBAAY,CAAC,OAAO,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;IAC/D,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,GAAQ,EAAE,EAAE;QAClC,IAAI,GAAG,EAAE;YACP,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,2DAA2D;YACtF,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,iDAAiD;SACpE;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC;IACpB,CAAC,CAAC,CAAC;AACL,CAAC;AATD,0CASC","file":"../../../src/security/passportLoginMiddleware.js","sourcesContent":["import {authenticate} from 'passport';\r\n\r\nexport default function passportLoginMiddleware(req: any, res: any, next: (err: any) => any) {\r\n  const authFunction = authenticate('local', { session: false });\r\n  authFunction(req, res, (err: any) => {\r\n    if (err) {\r\n      res.status(401).json(err); // set status and json body, does not get set automatically\r\n      return next(err); // pass error to further error handling functions\r\n    }\r\n    return next(null);\r\n  });\r\n}\r\n"]}